<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Eir - Logovanje</title>    
    </head>
<body>
    {% if not 'ulogovan' in request.session %}
    <form method="POST" action="loginKorisnik" onSubmit="return proveri();">
        {% csrf_token %}
        <div class="unos">
            <table>
                <tr>
                    <th align="right">E-mail </th>
				    <th><input type="text" name="email" id="email" placeholder="E-mail"></th>
					<th align="left"><label id="lemail" style="color: red;"></label></th>
				</tr>
				<tr>
				<th align="right">Password </th>
					<th><input type="password" name="password" id="password" placeholder="Lozinka"></th>
					<th align="left"><label id="lpassword" style="color: red;"></label></th>
				</tr>
				<tr>
				<th></th>
					<th align="left"><input type="submit" class="sub" value="Uloguj se"></th>
					<th align="left"><label style="color: red;">
					{% if messages|length == 1 %}
                        Pogrešno korisničko ime ili lozinka
                    {% endif %}
					</label></th>
				</tr>
            </table>
        </div>
    </form>
    {% else %}

    <h2>Već ste ulogovani</h2>

    {% endif %}

    <script>
			function proveri() {
				var popunjeno = true;

				if(document.getElementById("email").value == ""){
					popunjeno = false
					document.getElementById('lemail').innerHTML = 'Ovo polje je obavezno!';
				}
				else if(document.getElementById("email").value.includes("@") == false ){
					popunjeno = false
					document.getElementById('lemail').innerHTML = 'Email koji ste uneli je pogresan!';
				}
				else{
					document.getElementById('lemail').innerHTML = '';
				}

				if(document.getElementById("password").value == ""){
					popunjeno = false
					document.getElementById('lpassword').innerHTML = 'Ovo polje je obavezno!';
				}
				else{
					document.getElementById('lpassword').innerHTML = '';
				}

				if(!popunjeno) {alert("Morate da pravilno popunite sva polja")}
				return popunjeno;
			}
		</script>
    <style>
        input[type=text], input[type=number]:not(.avs), input[type=password], select{
          width: 100%;
          padding: 12px 20px;
          margin: 8px 0;
          display: inline-block;
          border: 1px solid #ccc;
          border-radius: 4px;
          box-sizing: border-box;
          font-family: "Times New Roman", Times, serif;
          font-size: 16px;
          font-weight: bold;
        }
        .sub {
          background-color: #4CAF50;
          border: none;
          color: white;
          padding: 15px 32px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 16px;
          margin: 4px 2px;
          font-family: "Times New Roman", Times, serif;
          font-size: 16px;
          cursor: pointer;
          font-weight: bold;
        }
    </style>
</body>
</html>